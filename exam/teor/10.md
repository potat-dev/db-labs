## Представления (Views)

**Представление (View)** - это SQL-запрос на выборку данных, который сохраняется в базе данных под своим именем и воспринимается пользователем как виртуальная таблица.

**Особенности представлений:**

*  Не хранят данные, а только код SQL-запроса.
*  Данные в представлении всегда актуальны, так как запрос выполняется при каждом обращении к представлению.

**Назначение представлений:**

* **Маскировка данных:**  Скрытие нежелательных столбцов или строк от пользователей.
* **Инкапсуляция бизнес-логики:**  Упрощение сложных запросов и повышение безопасности.

### Синтаксис оператора CREATE VIEW:

```sql
CREATE VIEW <имя представления> [(<список столбцов>)] AS <SQL-запрос>;
```

### Типы представлений:

* **Горизонтальное представление:**  Ограничивает доступ к строкам таблицы.
* **Вертикальное представление:**  Ограничивает доступ к столбцам таблицы (аналог проекции).

**Примеры:**

* **Горизонтальное представление:**

```sql
CREATE VIEW SAL_DEPT AS
SELECT *
FROM EMPLOYEE
WHERE DEPARTMENT = 'Отдел продаж';
```

* **Вертикальное представление:**

```sql
CREATE VIEW TABEL AS
SELECT T_NUM, NAME, POSITION, DEPARTMENT
FROM EMPLOYEE;
```

## Язык управления данными (DCL)

**DCL (Data Control Language):**  Язык для управления доступом к данным и привилегиями пользователей.

**Операторы DCL:**

* **GRANT:** Предоставление прав доступа.
* **REVOKE:** Отмена прав доступа.

### Безопасность данных

**Безопасность информационных систем:**  Обеспечение конфиденциальности, целостности и доступности данных.

* **Конфиденциальность:**  Защита от несанкционированного доступа.
* **Целостность:**  Сохранение данных согласованными и без ошибок.
* **Доступность:**  Обеспечение доступа к данным для авторизованных пользователей.

**Безопасность базы данных:**  Функции СУБД и меры, обеспечивающие безопасность данных.

### Управление авторизацией:

* **Управление доступом пользователей:**  
    *  Определение пользователей и паролей.
    *  Создание групп пользователей.
    *  Назначение прав доступа (GRANT, REVOKE).
    *  Контроль физического доступа.
* **Просмотр определения:** Создание представлений для ограничения доступа к данным.
* **Контроль доступа к СУБД:**  Ограничение использования инструментов, запросов и отчетов.
* **Мониторинг использования СУБД:**  Ведение журнала аудита для отслеживания операций пользователей.

### Оператор GRANT

**Синтаксис:**

```sql
GRANT {<список действий> | ALL PRIVILEGES}
ON <имя объекта>
TO {<имя пользователя> | PUBLIC}
[WITH GRANT OPTION];
```

**Описание:**

* **<список действий> | ALL PRIVILEGES:** Указать действия, к которым предоставляется доступ (SELECT, INSERT, UPDATE, DELETE и т.д.) или все действия (`ALL PRIVILEGES`).
* **ON <имя объекта>:**  Указать объект, к которому предоставляется доступ (таблица, представление, процедура и т.д.).
* **TO {<имя пользователя> | PUBLIC}:**  Указать пользователя или группу пользователей, которым предоставляется доступ (`PUBLIC` - всем пользователям).
* **WITH GRANT OPTION:** Разрешить пользователю передавать предоставленные права другим пользователям.

**Пример:**

```sql
GRANT INSERT, SELECT
ON Tab1
TO user2;
```

### Оператор REVOKE

**Синтаксис:**

```sql
REVOKE {<список операций> | ALL PRIVILEGES}
ON <имя объекта>
FROM {<список пользователей> | PUBLIC}
{CASCADE | RESTRICT};
```

**Описание:**

* **<список операций> | ALL PRIVILEGES:**  Указать действия, доступ к которым отменяется, или все действия (`ALL PRIVILEGES`).
* **ON <имя объекта>:**  Указать объект, доступ к которому отменяется.
* **FROM {<список пользователей> | PUBLIC}:** Указать пользователя или группу пользователей, у которых отменяется доступ (`PUBLIC` - у всех пользователей).
* **CASCADE:**  Отменить права у пользователей, получивших их от пользователя, у которого отменяются права.
* **RESTRICT:**  Не отменять права, если есть зависимые пользователи.

**Примеры:**

* **Отмена всех прав у пользователя `user4`:**

```sql
REVOKE ALL PRIVILEGES
ON Tab1
FROM user4 CASCADE;
```

* **Отмена права на вставку у пользователей `user2` и `user4`:**

```sql
REVOKE INSERT
ON Tab1
FROM user2, user4 CASCADE;
```

