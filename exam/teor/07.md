## Дополнительные операции реляционной алгебры

**1. Пересечение (INTERSECTION):** R ∩ S — возвращает отношение, содержащее кортежи, присутствующие как в R, так и в S.

   * R и S должны иметь одинаковую арность и совместимые типы атрибутов.

**Пример:**

```
R = {(a, b, c), (b, c, c), (a, a, b)}
S = {(b, c, c), (a, a, b)}
R ∩ S = {(b, c, c), (a, a, b)}
```

**Выражение через основные операции:** R ∩ S = R \ (R \ S)

**2. Деление (DIVISION):** R ÷ S — возвращает отношение, содержащее "осколки" кортежей из R, которые комбинируются со всеми кортежами из S и присутствуют в R.

**Условия применения:**

* S не пустое.
* Атрибуты S являются подмножеством атрибутов R.
* Арность R больше арности S.

**Пример:**

```
R = {(a, b, c, d), (a, b, e, f), (b, c, e, f), (e, d, c, d), (e, d, e, f)}
S = {(c, d), (e, f)}
R ÷ S = {(a, b), (e, d)} 
```

**3. Соединение (JOIN):**  R  ⋈<sub>I θ J</sub> S — возвращает отношение, содержащее кортежи из R и S, удовлетворяющие условию соединения I θ J, где I и J — атрибуты R и S, а θ — операция сравнения.

**Пример:**

```
R = {(1, 2, 3), (4, 5, 6), (7, 8, 9)}
S = {(3, 1), (6, 2)}
R ⋈<sub>B<D</sub> S = {(1, 2, 3, 3, 1), (1, 2, 3, 6, 2)}
```

**Эквисоединение:** Соединение с операцией сравнения "=".

**4. Естественное соединение (NATURAL JOIN):** R ⋈ S — эквисоединение по всем общим атрибутам R и S с удалением дубликатов столбцов.

**Пример:**

```
R = {(a, b, c), (d, b, c)}
S = {(b, c, d), (b, c, e)}
R ⋈ S = {(a, b, c, d), (a, b, c, e), (d, b, c, d), (d, b, c, e)}
```

##  SQL -  язык структурированных запросов

**SQL (Structured Query Language):** Стандартный язык для работы с реляционными базами данных.

### Структура SQL:

* **DDL (Data Definition Language):**  Операторы для определения данных (CREATE, DROP, ALTER).
* **DML (Data Manipulation Language):** Операторы для манипулирования данными (INSERT, UPDATE, DELETE).
* **DQL (Data Query Language):** Язык запросов данных (SELECT).
* **DCL (Data Control Language):** Операторы для управления доступом к данным (GRANT, REVOKE).
* **TCL (Transaction Control Language):** Операторы для управления транзакциями (COMMIT, ROLLBACK).

## Типы данных SQL:

### Числовые:

* **INTEGER/INT:** Целые числа.
* **SMALLINT:** Целые числа меньшего диапазона.
* **NUMERIC(n, m):**  Точные числа с фиксированной точностью.
* **DECIMAL(n, m)/DEC(n, m):**  Точные числа с фиксированной точностью.
* **FLOAT(n):** Числа с плавающей точкой одинарной точности.
* **REAL:** Числа с плавающей точкой одинарной точности.
* **DOUBLE PRECISION:** Числа с плавающей точкой двойной точности.

### Строковые:

* **CHARACTER(n)/CHAR(n):** Символьные строки фиксированной длины.
* **VARCHAR(n):** Символьные строки переменной длины.
* **NCHAR(n):** Строки национальных символов фиксированной длины.
* **NVARCHAR(n):** Строки национальных символов переменной длины.

### Даты и время:

* **DATE:** Дата.
* **TIME:** Время.
* **TIMESTAMP:** Дата и время с заданной точностью.
* **INTERVAL:** Временной интервал.

### Прочие:

* **BOOLEAN:** Логический тип данных.
* **BLOB:**  Двоичные большие объекты.
* **CLOB:** Символьные большие объекты.

## Язык описания данных (DDL)

| Оператор          | Смысл           | Действие                                                     |
| ----------------- | --------------- | ------------------------------------------------------------ |
| **CREATE объект** | Создать объект  | Создает новый объект (таблицу, представление, индекс и т.д.) |
| **DROP объект**   | Удалить объект  | Удаляет существующий объект.                                 |
| **ALTER объект**  | Изменить объект | Изменяет структуру существующего объекта.                    |

### Схемы в SQL

* **Схема:** Контейнер для объектов базы данных (таблиц,  представлений, хранимых процедур и т.д.).
* **Назначение:**  Организация объектов, разделение прав доступа,  управление пространством имен.

**Пример создания схемы:**

```sql
CREATE SCHEMA Библиотека;
```
