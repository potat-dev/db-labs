## 12. Преобразование ER-модели в реляционную модель данных.

### Ответ:

После того как мы создали ER-диаграмму, отражающую структуру предметной области,  необходимо преобразовать ее в реляционную модель данных,  которую можно реализовать с помощью конкретной СУБД. 

**Процесс преобразования:**

1. **Преобразование сущностей:**

   * **Каждая сущность становится таблицей:**  Имя  сущности  становится  именем  таблицы.
   * **Атрибуты сущности становятся столбцами таблицы:**  Имена  атрибутов  становятся  именами  столбцов,  а  типы  данных  атрибутов  преобразуются  в  соответствующие  типы  данных  СУБД.

2. **Преобразование связей:**

    * **Связи "один-ко-многим" (1:M):**
        * **Внешний  ключ  в  таблице  "многие":** В  таблицу,  находящуюся  на  стороне  "многие"  связи,  добавляется  внешний  ключ,  ссылающийся  на  первичный  ключ  таблицы  на  стороне  "один".
        * **Пример:**  Если  у  нас  есть  сущности  "Автор" (1)  и  "Книга" (M),  связанные  отношением  "написал",  то  в  таблицу  "Книга"  будет  добавлен  внешний  ключ  "ID_автора",  ссылающийся  на  первичный  ключ  "ID"  в  таблице  "Автор".
    * **Связи "многие-ко-многим" (M:N):**
        * **Создание  промежуточной  таблицы:**  Создается  новая  таблица,  которая  будет  хранить  пары  первичных  ключей  связанных  таблиц.  Эта  таблица  называется  промежуточной  или  ассоциативной.
        * **Пример:**  Если  у  нас  есть  сущности  "Книга" (M)  и  "Жанр" (M),  связанные  отношением  "относится  к",  то  создается  промежуточная  таблица  "Книга_Жанр"  с  внешними  ключами  "ID_книги"  и  "ID_жанра",  ссылающимися  на  соответствующие  таблицы.
    * **Связи "один-к-одному" (1:1):**
        * **Варианты  реализации:**  Могут  быть  реализованы  различными  способами,  например,  путем  добавления  внешнего  ключа  в  одну  из  таблиц  или  объединения  сущностей  в  одну  таблицу.  Выбор  зависит  от  конкретной  ситуации  и  требований  к  производительности.

3. **Преобразование  атрибутов:**

   * **Простые атрибуты:**  Преобразуются  в  соответствующие  столбцы  с  типами  данных. 
   * **Составные атрибуты:**  Можно  разделить  на  несколько  столбцов  или  хранить  как  единое  значение  в  одном  столбце,  в  зависимости  от  требований  к  поиску  и  фильтрации  данных. 
   * **Многозначные атрибуты:**  Обычно  создается  отдельная  таблица  для  хранения  множества  значений,  связанная  с  основной  таблицей  отношением  "один-ко-многим".
   * **Производные  атрибуты:**  Могут  быть  реализованы  как  вычисляемые  столбцы  или  представления,  либо  рассчитываться  программным  кодом  при  необходимости. 

4. **Определение первичных ключей:**

   * **Выбор  первичных  ключей  для  каждой  таблицы:**  Первичный  ключ  должен  быть  уникальным  и  не  должен  принимать  значение  NULL. 

**Пример преобразования:**

[Изображение примера преобразования части ER-диаграммы с книгами и авторами в реляционную модель]

**Важно:**

* Преобразование ER-модели в реляционную  --  это  не  всегда  однозначный  процесс.  Возможны  разные  варианты  реализации  связей  и  атрибутов,  и  выбор  оптимального  варианта  зависит  от  конкретных  требований  и  особенностей  проектируемой  базы  данных.
