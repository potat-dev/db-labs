## 20. Реляционная алгебра. Дополнительные операции.

### Ответ:

Помимо  основных  операций,  реляционная  алгебра  включает  ряд  дополнительных  операций,  которые  не  расширяют  ее  выразительную  мощность,  но  делают  запросы  более  компактными  и  удобными  для  записи.

**Дополнительные операции реляционной алгебры:**

1. **Соединение (JOIN):**

    * **Обозначение:**  R ⋈<sub>θ</sub> S,  где  θ  -  условие  соединения.
    * **Определение:**  Возвращает  отношение,  содержащее  кортежи  из  R  и  S,  для  которых  выполняется  условие  соединения  θ.  Условие  соединения  обычно  основано  на  сравнении  значений  атрибутов  из  обоих  отношений.
    * **Типы  соединений:**
       * **Внутреннее  соединение  (INNER  JOIN):**  Возвращает  только  те  кортежи,  для  которых  нашлись  совпадения  в  обоих  отношениях.
       * **Левое  внешнее  соединение  (LEFT  OUTER  JOIN):**  Возвращает  все  кортежи  из  левого  отношения  (R),  а  также  совпадающие  кортежи  из  правого  отношения  (S).  Если  для  кортежа  из  R  не  найдено  соответствия  в  S,  то  атрибуты  из  S  заполняются  значениями  NULL.
       * **Правое  внешнее  соединение  (RIGHT  OUTER  JOIN):**  Аналогично  левому  внешнему  соединению,  но  возвращает  все  кортежи  из  правого  отношения  (S).
       * **Полное  внешнее  соединение  (FULL  OUTER  JOIN):**  Возвращает  все  кортежи  из  обоих  отношений,  заполняя  значениями  NULL  отсутствующие  атрибуты  в  случае  несоответствия.

2. **Естественное  соединение  (NATURAL  JOIN):**

    * **Обозначение:**  R ⋈ S
    * **Определение:**  Особый  случай  соединения,  где  условием  является  равенство  значений  всех  общих  атрибутов  R  и  S.  Дубликаты  общих  атрибутов  в  результирующем  отношении  удаляются.

3. **Деление (DIVISION):**

    * **Обозначение:**  R ÷ S
    * **Определение:**  Возвращает  отношение,  содержащее  те  значения  атрибутов  из  R,  которые  комбинируются  со  всеми  значениями  атрибутов  из  S  и  присутствуют  в  R.  Обычно  используется  для  запросов  типа  "найти  всех  X,  которые  связаны  со  всеми  Y".

4. **Переименование  атрибутов (RENAME):**

    * **Обозначение:**  ρ<sub>(B1,  B2,  ...,  Bn)</sub>(R)  или  R(B1,  B2,  ...,  Bn)
    * **Определение:**  Возвращает  отношение  R,  в  котором  атрибуты  переименованы  в  B1,  B2,  ...,  Bn.

**Примеры:**

**Пусть  даны  отношения:**

R = {(1,  a,  x),  (2,  b,  y),  (3,  c,  z)}
S = {(a,  p),  (b,  q)}

* **R ⋈<sub>R.2=S.1</sub> S = {(1,  a,  x,  p),  (2,  b,  y,  q)}**  (внутреннее  соединение)
* **R ⋈ S = {(1,  a,  x,  p),  (2,  b,  y,  q)}**  (естественное  соединение)

**Важно:**

* Дополнительные  операции  реляционной  алгебры  упрощают  запись  запросов,  но  могут  быть  выражены  через  комбинации  основных  операций.
* Понимание  дополнительных  операций  полезно  для  более  эффективного  использования  реляционной  алгебры  и  языков  запросов,  основанных  на  ней.
