## 17. Даталогическое проектирование. Третья нормальная форма.

### Ответ:

Третья нормальная форма (3NF) - это следующий шаг в процессе нормализации,  который устраняет транзитивные зависимости,  обеспечивая  еще  большую  целостность  данных.

**Определение:** Отношение находится в 3NF,  если:

1. **Оно  находится  в  2NF.**
2. **Нет  транзитивных  зависимостей  неключевых  атрибутов  от  первичного  ключа.** 

Другими словами,  каждый  неключевой  атрибут  должен  зависеть  **только**  от  первичного  ключа,  а  не  от  других  неключевых  атрибутов.

**Пример отношения, не находящегося в 3NF:**

Рассмотрим  таблицу  "Сотрудники":

| ТабельныйНомер | ФИО           | Отдел | НазваниеОтдела |
| -------------- | ------------- | ----- | -------------- |
| 1              | Иванов Иван   | 101   | IT             |
| 2              | Петров Петр   | 102   | Бухгалтерия    |
| 3              | Сидорова Анна | 101   | IT             |

**Проблема:**

* Атрибут "НазваниеОтдела"  транзитивно  зависит  от  первичного  ключа  "ТабельныйНомер"  через  атрибут  "Отдел".  

**Последствия:**

* **Избыточность данных:**  Название  отдела  дублируется  для  каждого  сотрудника  этого  отдела.
* **Аномалия  обновления:**  Если  изменится  название  отдела,  придется  обновить  множество  строк  в  таблице.

**Преобразование в 3NF:**

Чтобы привести отношение к 3NF,  нужно:

1. **Выделить  атрибуты,  транзитивно  зависящие  от  первичного  ключа:**  В  данном  случае  это  "НазваниеОтдела".
2. **Создать  новую  таблицу  для  этих  атрибутов  и  атрибута,  от  которого  они  зависят:**  Новая  таблица  будет  иметь  первичный  ключ  "Отдел".

**Нормализованные отношения (в 3NF):**

**Таблица "Сотрудники":**

| ТабельныйНомер | ФИО           | Отдел |
| -------------- | ------------- | ----- |
| 1              | Иванов Иван   | 101   |
| 2              | Петров Петр   | 102   |
| 3              | Сидорова Анна | 101   |

**Таблица "Отделы":**

| Отдел | НазваниеОтдела |
| ----- | -------------- |
| 101   | IT             |
| 102   | Бухгалтерия    |

**Преимущества 3NF:**

* **Устранение избыточности данных:**  Информация  об  отделах  хранится  только  в  одном  месте.
* **Упрощение модификации данных:**  Изменение  названия  отдела  требует  обновления  только  одной  строки  в  таблице  "Отделы".

**Важно:**

* 3NF  является  наиболее  распространенной  нормальной  формой  на  практике.  
* Она  обеспечивает  хороший  баланс  между  целостностью  данных  и  производительностью  запросов.
* Существуют  более  высокие  нормальные  формы  (BCNF,  4NF,  5NF),  но  они  используются  реже  из-за  усложнения  схемы  базы  данных  и  запросов.
