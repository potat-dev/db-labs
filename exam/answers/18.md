## 18. Даталогическое проектирование. Нормальная форма Бойса-Кодда.

### Ответ:

Нормальная форма Бойса-Кодда (BCNF, Boyce-Codd Normal Form) - это более строгая версия 3NF, которая устраняет некоторые аномалии,  которые могут  возникнуть  даже  в  отношениях,  находящихся  в  3NF. 

**Определение:**  Отношение  находится  в  BCNF,  если:

1. **Оно  находится  в  3NF.**
2. **Каждый  детерминант  является  кандидатом  в  ключи.**

**Детерминант:**  Атрибут  или  совокупность  атрибутов,  от  которых  полностью  функционально  зависит  какой-либо  другой  атрибут.

**Кандидат в ключи:**  Атрибут  или  совокупность  атрибутов,  которые  могут  служить  первичным  ключом  отношения  (то есть  однозначно  идентифицируют  каждый  кортеж).

**Пример отношения, не находящегося в BCNF:**

| Студент | Курс | Преподаватель |
| ------- | ---- | ------------- |
| Иванов  | БД   | Петров        |
| Петров  | БД   | Петров        |
| Сидоров | Сети | Иванов        |

**Проблема:**

* Детерминант  "Курс"  определяет  атрибут  "Преподаватель",  но  не  является  кандидатом  в  ключи.  Первичный  ключ  в  этом  отношении -  составной  ("Студент",  "Курс").

**Последствия:**

* **Избыточность данных:**  Информация  о  том,  что  преподаватель  Петров  ведет  курс  "БД",  дублируется.
* **Аномалия  обновления:**  Если  преподаватель  Петров  перестанет  вести  курс  "БД",  придется  обновить  несколько  строк.

**Преобразование в BCNF:**

Чтобы привести отношение к BCNF, нужно:

1. **Выделить  детерминант,  не  являющийся  кандидатом  в  ключи:**  В  данном  случае  это  "Курс".
2. **Разделить  отношение  на  два  отношения:**  Одно  с  первичным  ключом  "Курс"  и  атрибутом  "Преподаватель",  а  другое  с  первичным  ключом  ("Студент",  "Курс").

**Нормализованные отношения (в BCNF):**

**Таблица "Курсы":**

| Курс | Преподаватель |
| ---- | ------------- |
| БД   | Петров        |
| Сети | Иванов        |

**Таблица "Студенты_Курсы":**

| Студент | Курс |
| ------- | ---- |
| Иванов  | БД   |
| Петров  | БД   |
| Сидоров | Сети |

**Преимущества BCNF:**

* **Устранение  избыточности  данных:**  Информация  о  преподавателях  курсов  хранится  только  в  одном  месте.
* **Упрощение  модификации  данных:**  Изменение  преподавателя  курса  требует  обновления  только  одной  строки  в  таблице  "Курсы".

**Важно:**

* BCNF  является  более  строгой  нормальной  формой,  чем  3NF,  но  ее  достижение  не  всегда  возможно  или  целесообразно.
* BCNF  может  увеличить  количество  таблиц  и  усложнить  запросы.
