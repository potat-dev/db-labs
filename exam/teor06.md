## 2NF (Вторая нормальная форма)

**Определение:** Отношение находится во второй нормальной форме (2NF), если:

1. Отношение находится в первой нормальной форме (1NF).
2.  Отношение не содержит неполных функциональных зависимостей непервичных атрибутов от атрибутов первичного ключа.

**Важно:** Требования 2NF актуальны только для отношений с составными первичными ключами.

**Нарушение 2NF:** Наличие неключевых атрибутов, зависящих от части составного первичного ключа.

**Пример:**

```
Курс (Код_курса, Табельный_номер_преподавателя, Наименование, Кафедра, ФИО_преподавателя)
```

**Проблема:** Атрибуты "Кафедра" и "ФИО_преподавателя" зависят только от части первичного ключа ("Табельный_номер_преподавателя").

**Решение:**

1. Найти атрибуты, зависящие от части первичного ключа.
2. Создать новую сущность для каждого такого набора атрибутов и части первичного ключа.
3. Установить связи между новой сущностью и исходной.

**Пример нормализованной модели:**

```
Курс (Код_курса, Табельный_номер_преподавателя (FK), Наименование)
Преподаватель (Табельный_номер_преподавателя, Кафедра, ФИО_преподавателя)
```

## 3NF (Третья нормальная форма)

**Определение:** Отношение находится в третьей нормальной форме (3NF), если:

1. Отношение находится во второй нормальной форме (2NF).
2. Отношение не содержит транзитивных зависимостей.

**Транзитивность:** Если A → B и B → C, то A → C.

**Другими словами:** Любой неключевой атрибут должен функционально зависеть только от первичного ключа, а не от других неключевых атрибутов.

**Пример:**

```
Курс (Код_курса, Табельный_номер_преподавателя, Наименование, Факультет, Кафедра, ФИО_преподавателя)
```

**Проблема:**  Атрибут "Факультет" транзитивно зависит от "Код_курса" через "Кафедра" (Кафедра → Факультет).

**Решение:**

1. Выделить наборы атрибутов, зависящие от одного и того же неключевого атрибута.
2. Создать новую сущность для каждого такого набора и неключевого атрибута.
3. Установить связи между новой сущностью и исходной.

**Пример нормализованной модели:**

```
Курс (Код_курса, Табельный_номер_преподавателя (FK), Наименование, Кафедра (FK))
Преподаватель (Табельный_номер_преподавателя, Кафедра, ФИО_преподавателя)
Кафедра (Кафедра, Факультет)
```

## НФБК (Нормальная форма Бойса-Кодда)

**Определение:** Отношение находится в НФБК, если каждый детерминант является потенциальным ключом.

**Детерминант:** Атрибут или набор атрибутов, от которого функционально зависит какой-либо другой атрибут.

**Потенциальный ключ:**  Атрибут или набор атрибутов, которые могут использоваться в качестве первичного ключа.

**Нарушение НФБК:** Наличие детерминанта, не являющегося потенциальным ключом.

**Пример:**

```
СОБЕСЕДОВАНИЕ (Клиент, Дата, Время, Сотрудник, Комната)
```

**Проблема:**  Детерминант (Дата, Сотрудник) → Комната не является потенциальным ключом.

**Решение:** Разбиение на два отношения.

**Пример нормализованной модели:**

```
ИНТЕРВЬЮ (Клиент, Дата, Время, Сотрудник)
КОМНАТА (Сотрудник, Дата, Комната)
```

##  Краткое описание нормальных форм:

| НФ   | Описание                                                                                 |
| ---- | ---------------------------------------------------------------------------------------- |
| 1NF  | Устранены повторяющиеся атрибуты, все атрибуты имеют атомарное значение.                 |
| 2NF  | Нет атрибутов, функционально зависящих только от части составного уникального ключа.     |
| 3NF  | Нет неключевых атрибутов, зависящих от неключевых атрибутов (транзитивных зависимостей). |
| НФБК | Каждый детерминант является потенциальным ключом.                                        |

## Реляционная алгебра и язык запросов реляционной алгебры

**Реляционная алгебра:**  Формальный язык для работы с реляционными данными.

**Операции реляционной алгебры:**

* **Основные:** Объединение (UNION), вычитание (MINUS), декартово произведение (TIMES), проекция (PROJECT), селекция (SELECT).
* **Дополнительные:**  Не расширяют функционал,  упрощают запись запросов.

### Основные операции:

1. **Объединение (UNION):** R ∪ S — возвращает отношение, содержащее все кортежи из R и S (без дубликатов).
   *  R и S должны иметь одинаковую арность и совместимые типы атрибутов.

2. **Вычитание (MINUS):**  R \ S — возвращает отношение, содержащее кортежи из R, которых нет в S.
   * R и S должны иметь одинаковую арность и совместимые типы атрибутов.

3. **Декартово произведение (TIMES):** R x S — возвращает отношение, содержащее все возможные пары кортежей из R и S.

4. **Проекция (PROJECT):** π(A1, A2, ..., An)(R) — возвращает отношение, содержащее только указанные атрибуты (столбцы) из R.
   * Удаляет дубликаты строк.

5. **Селекция (SELECT):** σ(условие)(R) — возвращает отношение, содержащее кортежи из R, удовлетворяющие заданному условию.
   * Условие строится с использованием операторов сравнения, логических операторов и арифметических операций. 
